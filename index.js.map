{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const fetchImages = async searchQuery => {\n  const API_KEY = '48887234-fe7a8c0ecfa7b9a43b5097f7a';\n  const URL = `https://pixabay.com/api/`;\n\n  try {\n    const response = await axios.get(URL, {\n      params: {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching data: ', error);\n    throw error;\n  }\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nexport function clearGallery(galleryElement) {\n  galleryElement.innerHTML = '';\n}\n\nexport function createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('gallery-item');\n\n  card.innerHTML = `\n    <a href=\"${image.largeImageURL}\" target=\"_blank\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n    </a>\n    <div class=\"info\">\n      <p>Likes: ${image.likes}</p>\n      <p>Views: ${image.views}</p>\n      <p>Comments: ${image.comments}</p>\n      <p>Downloads: ${image.downloads}</p>\n    </div>\n  `;\n  return card;\n}\n\nexport function renderImages(images, galleryElement) {\n  images.forEach(image => {\n    const imageCard = createImageCard(image);\n    galleryElement.appendChild(imageCard);\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { showToast, clearGallery, renderImages } from './js/render-functions';\n\nlet lightbox;\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    showToast('Please enter a search query.');\n    return;\n  }\n\n  try {\n    showLoader();\n    clearGallery(gallery);\n\n    const images = await fetchImages(query);\n\n    if (images.length === 0) {\n      showToast(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    } else {\n      renderImages(images, gallery);\n    }\n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    }\n  } catch (error) {\n    showToast('Failed to fetch images. Please try again later.');\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["fetchImages","searchQuery","API_KEY","URL","axios","error","showToast","message","iziToast","clearGallery","galleryElement","createImageCard","image","card","renderImages","images","imageCard","lightbox","searchForm","searchInput","gallery","loader","showLoader","hideLoader","query","SimpleLightbox"],"mappings":"owBAEO,MAAMA,EAAc,MAAMC,GAAe,CAC9C,MAAMC,EAAU,qCACVC,EAAM,2BAEZ,GAAI,CAWF,OAViB,MAAMC,EAAM,IAAID,EAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,KAAK,IACtB,OAAQI,EAAO,CACd,cAAQ,MAAM,wBAAyBA,CAAK,EACtCA,CACP,CACH,ECnBO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAEO,SAASE,EAAaC,EAAgB,CAC3CA,EAAe,UAAY,EAC7B,CAEO,SAASC,EAAgBC,EAAO,CACrC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAU,IAAI,cAAc,EAEjCA,EAAK,UAAY;AAAA,eACJD,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,kBAGtCA,EAAM,KAAK;AAAA,kBACXA,EAAM,KAAK;AAAA,qBACRA,EAAM,QAAQ;AAAA,sBACbA,EAAM,SAAS;AAAA;AAAA,IAG5BC,CACT,CAEO,SAASC,EAAaC,EAAQL,EAAgB,CACnDK,EAAO,QAAQH,GAAS,CACtB,MAAMI,EAAYL,EAAgBC,CAAK,EACvCF,EAAe,YAAYM,CAAS,CACxC,CAAG,CACH,CChCA,IAAIC,EAEJ,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,MAAM,QAAU,OACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEAH,EAAW,iBAAiB,SAAU,MAAM,GAAK,CAC/C,EAAE,eAAc,EAEhB,MAAMM,EAAQL,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACK,EAAO,CACVlB,EAAU,8BAA8B,EACxC,MACD,CAED,GAAI,CACFgB,IACAb,EAAaW,CAAO,EAEpB,MAAML,EAAS,MAAMf,EAAYwB,CAAK,EAElCT,EAAO,SAAW,EACpBT,EACE,0EACR,EAEMQ,EAAaC,EAAQK,CAAO,EAE1BH,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIQ,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAO,CAEJ,MAAe,CACdnB,EAAU,iDAAiD,CAC/D,QAAY,CACRiB,GACD,CACH,CAAC"}